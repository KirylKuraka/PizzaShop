<div class="main-block">
    <div id="center-block">
        <mat-card>
            <div class="register-form">
                <h1 class="card-title">Register</h1>
                
                <form [formGroup]="registrationForm" autocomplete="off" novalidate (ngSubmit)="registrate(registrationForm.value)">
                    <div class="form-group row">
                        <mat-form-field class="mat-form-field-infix">
                            <mat-label for="userName" class="col-form-label col-sm-2">Username</mat-label>
                            <input class="input-width-max" type="text" matInput id="userName" formControlName="userName" placeholder="exapmle" #userName required>
                        </mat-form-field>
                        <div class="col-md-5 error-div">
                            <em *ngIf="validateControl('userName') && hasError('userName', 'required')">Username is required</em>
                            <em *ngIf="hasError('userName', 'notUnique')">Username is already exists</em>
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <mat-form-field class="mat-form-field-infix">
                            <mat-label for="email" class="col-form-label col-sm-2">Email</mat-label>
                            <input class="input-width-max" type="email" matInput id="email" formControlName="email" placeholder="example@gmail.com" #email>
                        </mat-form-field>
                        <div class="col-md-5 error-div">
                            <em *ngIf="validateControl('email') && hasError('email', 'email')">Please provide a valid email</em>
                            <em *ngIf="validateControl('email') && hasError('email', 'required')">Email is required</em>
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <mat-form-field class="mat-form-field-infix">
                            <mat-label for="phoneNumber" class="col-form-label col-sm-2">Phone</mat-label>
                            <input type="text" matInput id="phoneNumber" formControlName="phoneNumber" placeholder="+375*********" #phoneNumber pattern="^(\+375|80)(29|25|44|33)(\d{3})(\d{2})(\d{2})$">
                        </mat-form-field>  
                        <div class="col-md-5 error-div">
                            <em *ngIf="validateControl('phoneNumber') && hasError('phoneNumber', 'required')">Phone number is required</em>
                            <em *ngIf="validateControl('phoneNumber') && hasError('phoneNumber', 'pattern')">Please provide a valid phone number</em>
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <mat-form-field class="mat-form-field-infix">
                            <mat-label for="password" class="col-form-label col-sm-2">Password</mat-label>
                            <input class="input-width-max" [type]="passwordHide ? 'password' : 'text'" matInput id="password" formControlName="password" placeholder="password" #password pattern="(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{8,}">
                            <button type="button" mat-icon-button matSuffix (click)="passwordHide = !passwordHide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="passwordHide">
                                <mat-icon>{{passwordHide ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                        </mat-form-field>  
                        <div class="row-md-5 error-div">
                            <em *ngIf="validateControl('password') && hasError('password', 'required')">Password is required</em>
                            <em *ngIf="validateControl('password') && hasError('password', 'pattern')">The password must contain at least 8 upper and lower case numbers and letters</em>
                        </div>  
                    </div>
    
                    <div class="form-group row">
                        <mat-form-field class="mat-form-field-infix">
                            <mat-label for="passwordConfirm" class="col-form-label col-sm-2">Confirm password</mat-label>
                            <input class="input-width-max" [type]="confirmHide ? 'password' : 'text'" matInput id="passwordConfirm" formControlName="passwordConfirm" placeholder="confirm" #passwordConfirm pattern="(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{8,}">
                            <button type="button" mat-icon-button matSuffix (click)="confirmHide = !confirmHide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="confirmHide">
                                <mat-icon>{{confirmHide ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                        </mat-form-field>         
                        <div class="row-md-5 error-div">
                            <em *ngIf="validateControl('passwordConfirm') && hasError('passwordConfirm', 'required')">Password confirm is required</em>
                            <em *ngIf="validateControl('passwordConfirm') && hasError('passwordConfirm', 'pattern')">The password must contain at least 8 upper and lower case numbers and letters</em>
                        </div>  
                    </div>
    
                    <br>
    
                    <div class="form-group row register-button-div">
                        <div class="col-md-1">          
                            <button type="submit" mat-flat-button color="primary" [disabled]="!registrationForm.valid">Register</button>
                        </div>
                    </div>
                </form>
            </div>
        </mat-card>
    </div>
</div>
